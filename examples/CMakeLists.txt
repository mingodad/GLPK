
add_executable(glpsol glpsol.c)
target_link_libraries(glpsol glpk)
if (UNIX)
	target_link_libraries(glpsol m)
endif ()


add_test(NAME glpsol_version COMMAND glpsol --version)
add_test(NAME glpsol_alloy COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/alloy.mps)
add_test(NAME glpsol_furnace COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/furnace.mps)
add_test(NAME glpsol_icecream COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/icecream.mps)
add_test(NAME glpsol_murtagh COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/murtagh.mps)
add_test(NAME glpsol_plan COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/plan.mps)
add_test(NAME glpsol_samp1 COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/samp1.mps)
add_test(NAME glpsol_samp2 COMMAND glpsol --mps ${CMAKE_CURRENT_SOURCE_DIR}/samp2.mps)

# Long tests have been commented out.
# add_test(NAME glpsol_hashi COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/hashi.mod)
# add_test(NAME glpsol_huge COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/huge.mod)
# add_test(NAME glpsol_jssp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/jssp.mod)
# add_test(NAME glpsol_life_goe COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/life_goe.mod)
# add_test(NAME glpsol_magic COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/magic.mod)
# add_test(NAME glpsol_numbrix COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/numbrix.mod)
# add_test(NAME glpsol_pentomino COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/pentomino.mod)
# add_test(NAME glpsol_planarity COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/planarity.mod)
# add_test(NAME glpsol_sat COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/sat.mod)
# add_test(NAME glpsol_shikaku COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/shikaku.mod)
# add_test(NAME glpsol_tas COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/tas.mod)
# add_test(NAME glpsol_trick COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/trick.mod)
# add_test(NAME glpsol_tsp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/tsp.mod)
add_test(NAME glpsol_assign COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/assign.mod)
add_test(NAME glpsol_bpp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/bpp.mod)
add_test(NAME glpsol_cal COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/cal.mod)
add_test(NAME glpsol_cf12a COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/cf12a.mod)
add_test(NAME glpsol_cf12b COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/cf12b.mod)
add_test(NAME glpsol_cflsq COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/cflsq.mod)
add_test(NAME glpsol_color COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/color.mod)
add_test(NAME glpsol_cpp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/cpp.mod)
add_test(NAME glpsol_crypto COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/crypto.mod)
add_test(NAME glpsol_dea COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/dea.mod)
add_test(NAME glpsol_diet COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/diet.mod)
add_test(NAME glpsol_dist COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/dist.mod)
add_test(NAME glpsol_egypt COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/egypt.mod)
add_test(NAME glpsol_fctp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/fctp.mod)
add_test(NAME glpsol_food COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/food.mod)
add_test(NAME glpsol_food2 COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/food2.mod)
add_test(NAME glpsol_gap COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/gap.mod)
add_test(NAME glpsol_graceful COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/graceful.mod)
add_test(NAME glpsol_graph COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/graph.mod)
add_test(NAME glpsol_maxcut COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/maxcut.mod)
add_test(NAME glpsol_maxflow COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/maxflow.mod)
add_test(NAME glpsol_mfasp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/mfasp.mod)
add_test(NAME glpsol_mfvsp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/mfvsp.mod)
add_test(NAME glpsol_min01ks COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/min01ks.mod)
add_test(NAME glpsol_misp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/misp.mod)
add_test(NAME glpsol_money COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/money.mod)
add_test(NAME glpsol_mvcp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/mvcp.mod)
add_test(NAME glpsol_powpl25h COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/powpl25h.mod)
add_test(NAME glpsol_powplant COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/powplant.mod)
add_test(NAME glpsol_prod COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/prod.mod)
add_test(NAME glpsol_qfit COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/qfit.mod)
add_test(NAME glpsol_queens COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/queens.mod)
add_test(NAME glpsol_shiftcov COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/shiftcov.mod)
add_test(NAME glpsol_sorting COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/sorting.mod)
add_test(NAME glpsol_spp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/spp.mod)
add_test(NAME glpsol_stigler COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/stigler.mod)
add_test(NAME glpsol_sudoku COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/sudoku.mod)
add_test(NAME glpsol_todd COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/todd.mod)
add_test(NAME glpsol_train COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/train.mod)
add_test(NAME glpsol_transp COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/transp.mod)
add_test(NAME glpsol_xyacfs COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/xyacfs.mod)
add_test(NAME glpsol_yacfs COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/yacfs.mod)
add_test(NAME glpsol_zebra COMMAND glpsol --math ${CMAKE_CURRENT_SOURCE_DIR}/zebra.mod)
